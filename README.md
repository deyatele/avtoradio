```markdown
# Radio Recognition Telegram Bot üìªüéµ

–¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –º—É–∑—ã–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –∏–∑ HLS-–ø–æ—Ç–æ–∫–∞ —Ä–∞–¥–∏–æ—Å—Ç–∞–Ω—Ü–∏–∏. –ë–æ—Ç –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Å–µ–≥–º–µ–Ω—Ç—ã –∞—É–¥–∏–æ, –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –∏—Ö –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç API (ACRCloud/AudD) –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ —Ç—Ä–µ–∫–∞.

---

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
* **HLS Stream Capture**: –ó–∞—Ö–≤–∞—Ç –∂–∏–≤–æ–≥–æ –ø–æ—Ç–æ–∫–∞ —Ä–∞–¥–∏–æ (m3u8).
* **Audio Processing**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ FFmpeg –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∞—É–¥–∏–æ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –∫–∞—á–µ—Å—Ç–≤–∞.
* **Dual Recognition**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å ACRCloud –∏ AudD API.
* **Auto-Cleanup**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏–∑ —Å–∏—Å—Ç–µ–º–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (`os.tmpdir`).
* **Docker Ready**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Dockerfile –Ω–∞ –±–∞–∑–µ Alpine Linux –¥–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞ —Å–ª–∞–±—ã—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö (VPS).

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
* **Runtime**: Node.js (ES Modules)
* **Audio**: FFmpeg
* **Containerization**: Docker, Docker Compose
* **API**: Telegram Bot API, ACRCloud API

---

## üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
1. **Docker** –∏ **Docker Compose** —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.
2. API –∫–ª—é—á–∏ –æ—Ç **ACRCloud** –∏–ª–∏ **AudD**.
3. –¢–æ–∫–µ–Ω —Ç–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç–∞ –æ—Ç **@BotFather**.

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone <–≤–∞—à-url-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è>
cd radioshow

```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ:

```env
# Telegram
TELEGRAM_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
CHAT_ID=id_–≤–∞—à–µ–≥–æ_—á–∞—Ç–∞, –µ—â–µ_–æ–¥–∏–Ω_id

# ACRCloud
ACRCLOUD_HOST=identify-eu-west-1.acrcloud.com
ACRCLOUD_ACCESS_KEY=–≤–∞—à_–∫–ª—é—á
ACRCLOUD_ACCESS_SECRET=–≤–∞—à_—Å–µ–∫—Ä–µ—Ç

# AudD (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
AUDD_API_KEY=–≤–∞—à_–∫–ª—é—á

# Environment
NODE_ENV=production

```

### 3. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose

```bash
# –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
docker-compose up -d --build

```

---

## üìù –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

| –ó–∞–¥–∞—á–∞ | –ö–æ–º–∞–Ω–¥–∞ |
| --- | --- |
| **–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏** | `docker-compose logs -f` |
| **–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞** | `docker-compose down` |
| **–û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥** | `docker-compose up -d --build` |
| **–û—á–∏—Å—Ç–∏—Ç—å –º—É—Å–æ—Ä Docker** | `docker system prune -a` |

---

## ‚öôÔ∏è –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç (Workflow)

1. –ë–æ—Ç –∫–∞–∂–¥—ã–µ 40 —Å–µ–∫—É–Ω–¥ —Å–∫–∞—á–∏–≤–∞–µ—Ç 5-—Å–µ–∫—É–Ω–¥–Ω—ã–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç HLS-–ø–æ—Ç–æ–∫–∞.
2. –§—Ä–∞–≥–º–µ–Ω—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –û–° (`/tmp` –Ω–∞ Linux/Docker).
3. **FFmpeg** –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç `.ts` —Å–µ–≥–º–µ–Ω—Ç –≤ `.mp3`.
4. –ê—É–¥–∏–æ—Ñ–∞–π–ª –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ –∞–Ω–∞–ª–∏–∑ –≤ API —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è.
5. –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω –Ω–æ–≤—ã–π —Ç—Ä–µ–∫ (–æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ), –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram.
6. –í –±–ª–æ–∫–µ `finally` –≤—Å–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —É–¥–∞–ª—è—é—Ç—Å—è, –æ—Å–≤–æ–±–æ–∂–¥–∞—è –º–µ—Å—Ç–æ.

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è

* **–ú–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ**: –ü—Ä–æ–µ–∫—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞ –¥–∏—Å–∫–∞—Ö –º–∞–ª–æ–≥–æ –æ–±—ä–µ–º–∞ (–æ—Ç 7 –ì–ë). –í—Å–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ RAM —á–µ—Ä–µ–∑ –ø–∞–ø–∫—É `/tmp`.
* **–õ–∏–º–∏—Ç—ã API**: –ß–∞—Å—Ç–æ—Ç–∞ –ø—Ä–æ–≤–µ—Ä–æ–∫ (40—Å) –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –¥–ª—è —Å–æ–±–ª—é–¥–µ–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤ –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö/–¥–µ—à–µ–≤—ã—Ö —Ç–∞—Ä–∏—Ñ–æ–≤ API —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è.
